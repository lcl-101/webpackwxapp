{"version":3,"sources":["webpack:///./src/app.js"],"names":["Towxml","require","App","onLaunch","logs","wx","getStorageSync","unshift","Date","now","setStorageSync","login","success","getSetting","res","authSetting","getUserInfo","globalData","userInfo","userInfoReadyCallback","towxml","onShow","options","onHide","onError","msg","console","log","listDatas"],"mappings":";;;;;;;;AAAA;AACA,IAAMA,SAAS,mBAAAC,CAAQ,CAAR,CAAf;AACAC,IAAI;AACFC,YAAU,oBAAY;AAAA;;AACpB;AACA,QAAIC,OAAOC,GAAGC,cAAH,CAAkB,MAAlB,KAA6B,EAAxC;AACAF,SAAKG,OAAL,CAAaC,KAAKC,GAAL,EAAb;AACAJ,OAAGK,cAAH,CAAkB,MAAlB,EAA0BN,IAA1B;;AAEA;AACAC,OAAGM,KAAH,CAAS;AACPC,eAAS,sBAAO;AACd;AACD;AAHM,KAAT;AAKA;AACAP,OAAGQ,UAAH,CAAc;AACZD,eAAS,sBAAO;AACd,YAAIE,IAAIC,WAAJ,CAAgB,gBAAhB,CAAJ,EAAuC;AACrC;AACAV,aAAGW,WAAH,CAAe;AACbJ,qBAAS,sBAAO;AACd;AACA,oBAAKK,UAAL,CAAgBC,QAAhB,GAA2BJ,IAAII,QAA/B;;AAEA;AACA;AACA,kBAAI,MAAKC,qBAAT,EAAgC;AAC9B,sBAAKA,qBAAL,CAA2BL,GAA3B;AACD;AACF;AAVY,WAAf;AAYD;AACF;AAjBW,KAAd;AAmBD,GAjCC;AAkCFM,UAAO,IAAIpB,MAAJ,EAlCL,EAkCuC;AACzCqB,UAAQ,gBAASC,OAAT,EAAkB;;AAExB;AACD,GAtCC;AAuCFC,UAAQ,kBAAW;;AAEjB;AACD,GA1CC;AA2CFC,WAAS,iBAASC,GAAT,EAAc;AACrBC,YAAQC,GAAR,CAAYF,GAAZ;AACD,GA7CC;AA8CFR,cAAY;AACVC,cAAU,IADA;AAEVU,eAAU;AAFA;AA9CV,CAAJ,E","file":"app.js","sourcesContent":["//app.js\nconst Towxml = require('./towxml/main');\nApp({\n  onLaunch: function () {\n    // 展示本地存储能力\n    var logs = wx.getStorageSync('logs') || []\n    logs.unshift(Date.now())\n    wx.setStorageSync('logs', logs)\n\n    // 登录\n    wx.login({\n      success: res => {\n        // 发送 res.code 到后台换取 openId, sessionKey, unionId\n      }\n    })\n    // 获取用户信息\n    wx.getSetting({\n      success: res => {\n        if (res.authSetting['scope.userInfo']) {\n          // 已经授权，可以直接调用 getUserInfo 获取头像昵称，不会弹框\n          wx.getUserInfo({\n            success: res => {\n              // 可以将 res 发送给后台解码出 unionId\n              this.globalData.userInfo = res.userInfo\n\n              // 由于 getUserInfo 是网络请求，可能会在 Page.onLoad 之后才返回\n              // 所以此处加入 callback 以防止这种情况\n              if (this.userInfoReadyCallback) {\n                this.userInfoReadyCallback(res)\n              }\n            }\n          })\n        }\n      }\n    })\n  },\n  towxml:new Towxml(),                     //创建towxml对象，供小程序页面使用\n  onShow: function(options) {\n\n    // Do something when show.\n  },\n  onHide: function() {\n\n    // Do something when hide.\n  },\n  onError: function(msg) {\n    console.log(msg)\n  },\n  globalData: {\n    userInfo: null,\n    listDatas:''\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js"],"sourceRoot":""}