{"version":3,"sources":["webpack:///./src/pages/index/index.js"],"names":["app","getApp","Page","data","name","posts","about","project","tags","userInfo","hasUserInfo","canIUse","wx","bindViewTap","navigateTo","url","onLoad","showShareMenu","withShareTicket","globalData","setData","userInfoReadyCallback","res","getUserInfo","success","e","console","log","detail"],"mappings":";;;;;;;;AAAA;AACA;AACA,IAAMA,MAAMC,QAAZ;;AAEAC,KAAK;AACHC,QAAM;AACJC,UAAK,UADD;AAEJC,WAAM,IAFF;AAGJC,WAAM,IAHF;AAIJC,aAAQ,UAJJ;AAKJC,UAAK,IALD;AAMJC,cAAU,EANN;AAOJC,iBAAa,KAPT;AAQJC,aAASC,GAAGD,OAAH,CAAW,8BAAX;AARL,GADH;AAWH;AACAE,eAAa,uBAAW;AACtBD,OAAGE,UAAH,CAAc;AACZC,WAAK;AADO,KAAd;AAGD,GAhBE;AAiBHC,UAAQ,kBAAY;AAAA;;AAClB;AACAJ,OAAGK,aAAH,CAAiB;AACfC,uBAAiB;AADF,KAAjB;AAGA,QAAIlB,IAAImB,UAAJ,CAAeV,QAAnB,EAA6B;AAC3B,WAAKW,OAAL,CAAa;AACXX,kBAAUT,IAAImB,UAAJ,CAAeV,QADd;AAEXC,qBAAa;AAFF,OAAb;AAID,KALD,MAKO,IAAI,KAAKP,IAAL,CAAUQ,OAAd,EAAsB;AAC3B;AACA;AACAX,UAAIqB,qBAAJ,GAA4B,eAAO;AACjC,cAAKD,OAAL,CAAa;AACXX,oBAAUa,IAAIb,QADH;AAEXC,uBAAa;AAFF,SAAb;AAID,OALD;AAMD,KATM,MASA;AACL;AACAE,SAAGW,WAAH,CAAe;AACbC,iBAAS,sBAAO;AACdxB,cAAImB,UAAJ,CAAeV,QAAf,GAA0Ba,IAAIb,QAA9B;AACA,gBAAKW,OAAL,CAAa;AACXX,sBAAUa,IAAIb,QADH;AAEXC,yBAAa;AAFF,WAAb;AAID;AAPY,OAAf;AASD;AACF,GAhDE;AAiDHa,eAAa,qBAASE,CAAT,EAAY;AACvBC,YAAQC,GAAR,CAAYF,CAAZ;AACAzB,QAAImB,UAAJ,CAAeV,QAAf,GAA0BgB,EAAEG,MAAF,CAASnB,QAAnC;AACA,SAAKW,OAAL,CAAa;AACXX,gBAAUgB,EAAEG,MAAF,CAASnB,QADR;AAEXC,mBAAa;AAFF,KAAb;AAID;AAxDE,CAAL,E","file":"pages/index/index.js","sourcesContent":["//index.js\n//获取应用实例\nconst app = getApp()\n\nPage({\n  data: {\n    name:'可惜没有如果～R',\n    posts:'全部',\n    about:'归档',\n    project:'PROJECTS',\n    tags:'标签',\n    userInfo: {},\n    hasUserInfo: false,\n    canIUse: wx.canIUse('button.open-type.getUserInfo')\n  },\n  //事件处理函数\n  bindViewTap: function() {\n    wx.navigateTo({\n      url: '../logs/logs'\n    })\n  },\n  onLoad: function () {\n    //微信转发功能\n    wx.showShareMenu({\n      withShareTicket: true\n    });\n    if (app.globalData.userInfo) {\n      this.setData({\n        userInfo: app.globalData.userInfo,\n        hasUserInfo: true\n      })\n    } else if (this.data.canIUse){\n      // 由于 getUserInfo 是网络请求，可能会在 Page.onLoad 之后才返回\n      // 所以此处加入 callback 以防止这种情况\n      app.userInfoReadyCallback = res => {\n        this.setData({\n          userInfo: res.userInfo,\n          hasUserInfo: true\n        })\n      }\n    } else {\n      // 在没有 open-type=getUserInfo 版本的兼容处理\n      wx.getUserInfo({\n        success: res => {\n          app.globalData.userInfo = res.userInfo\n          this.setData({\n            userInfo: res.userInfo,\n            hasUserInfo: true\n          })\n        }\n      })\n    }\n  },\n  getUserInfo: function(e) {\n    console.log(e)\n    app.globalData.userInfo = e.detail.userInfo\n    this.setData({\n      userInfo: e.detail.userInfo,\n      hasUserInfo: true\n    })\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/index.js"],"sourceRoot":""}