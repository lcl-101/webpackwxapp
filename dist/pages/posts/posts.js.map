{"version":3,"sources":["webpack:///./src/pages/posts/posts.js"],"names":["app","getApp","Page","data","title","loading","list","onLoad","that","wx","showShareMenu","withShareTicket","globalData","listDatas","showLoading","mask","sendQuest","setData","onPullDownRefresh","showNavigationBarLoading","hideNavigationBarLoading","stopPullDownRefresh","callback","request","url","method","dataType","success","res","hideLoading","statusCode","console","log","errMsg"],"mappings":";;;;;;;;AAAA,IAAMA,MAAMC,QAAZ;;AAEAC,KAAK;AACHC,QAAK;AACHC,WAAM,IADH;AAEHC,aAAQ,IAFL;AAGHC,UAAK;AAHF,GADF;AAMHC,UAAQ,kBAAU;AAChB,QAAIC,OAAO,IAAX;AACA;AACAC,OAAGC,aAAH,CAAiB;AACfC,uBAAiB;AADF,KAAjB;AAGA,QAAG,CAACX,IAAIY,UAAJ,CAAeC,SAAnB,EAA6B;AAC3BJ,SAAGK,WAAH,CAAe;AACbV,eAAO,KADM;AAEbW,cAAM;AAFO,OAAf;AAIA,WAAKC,SAAL;AACD,KAND,MAMM;AACJR,WAAKS,OAAL,CAAa;AACXZ,iBAAQ,KADG;AAEXC,cAAKN,IAAIY,UAAJ,CAAeC;AAFT,OAAb;AAID;AACF,GAxBE;AAyBHK,qBAAmB,6BAAU;AAC3B,QAAIV,OAAO,IAAX;AACAA,SAAKS,OAAL,CAAa;AACXX,YAAK,EADM;AAEXD,eAAQ;AAFG,KAAb;AAIAI,OAAGU,wBAAH,GAN2B,CAMG;AAC9B,SAAKH,SAAL,CAAe,YAAU;AACvBP,SAAGW,wBAAH,GADuB,CACO;AAC9BX,SAAGY,mBAAH,GAFuB,CAEE;AAC1B,KAHD;AAID,GApCE;AAqCHL,aAAW,mBAASM,QAAT,EAAkB;AAC3B,QAAId,OAAO,IAAX;AACA;AACAC,OAAGc,OAAH,CAAW;AACTC,WAAI,+BADK;AAETC,cAAO,KAFE;AAGTC,gBAAS,MAHA;AAITC,eAAQ,iBAASC,GAAT,EAAa;AACnBnB,WAAGoB,WAAH;AACA,YAAGD,IAAIE,UAAJ,IAAkB,GAArB,EAAyB;AACvBtB,eAAKS,OAAL,CAAa;AACXX,kBAAKsB,IAAIzB,IADE;AAEXE,qBAAQ;AAFG,WAAb;AAIAL,cAAIY,UAAJ,CAAeC,SAAf,GAA2Be,IAAIzB,IAA/B;AACA,cAAGmB,QAAH,EAAY;AACVA;AACD;AACF,SATD,MASM;AACJS,kBAAQC,GAAR,CAAYJ,IAAIK,MAAhB;AACD;AACF;AAlBQ,KAAX;AAoBD;AA5DE,CAAL,E","file":"pages/posts/posts.js","sourcesContent":["const app = getApp();\n\nPage({\n  data:{\n    title:'全部',\n    loading:true,\n    list:''\n  },\n  onLoad: function(){\n    var that = this;\n    //微信转发功能\n    wx.showShareMenu({\n      withShareTicket: true\n    });\n    if(!app.globalData.listDatas){\n      wx.showLoading({\n        title: '加载中',\n        mask: true\n      });\n      this.sendQuest();\n    }else {\n      that.setData({\n        loading:false,\n        list:app.globalData.listDatas\n      });\n    }\n  },\n  onPullDownRefresh: function(){\n    var that = this;\n    that.setData({\n      list:'',\n      loading:true,\n    });\n    wx.showNavigationBarLoading() //在标题栏中显示加载\n    this.sendQuest(function(){\n      wx.hideNavigationBarLoading() //完成停止加载\n      wx.stopPullDownRefresh() //停止下拉刷新\n    });\n  },\n  sendQuest: function(callback){\n    var that = this;\n    //涉及到域名问题正式项目\n    wx.request({\n      url:'https://lcl101.cn/api/getList',\n      method:'GET',\n      dataType:'json',\n      success:function(res){\n        wx.hideLoading();\n        if(res.statusCode == 200){\n          that.setData({\n            list:res.data,\n            loading:false,\n          });\n          app.globalData.listDatas = res.data;\n          if(callback){\n            callback();\n          }\n        }else {\n          console.log(res.errMsg)\n        }\n      }\n    })\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/posts/posts.js"],"sourceRoot":""}